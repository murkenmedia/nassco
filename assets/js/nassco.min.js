!function(){"use strict";jQuery.noConflict();var n,o,i,r,p=jQuery(window),t=jQuery("#parallax"),g=600,v=576,s=!!document.documentMode,d=["intro","1900","1930","1940","1950","1960","1970","1980","1990","2000","2010","final"],f=["#timeline-intro","#timeline-1900","#timeline-1930","#timeline-1940","#timeline-1950","#timeline-1960","#timeline-1970","#timeline-1980","#timeline-1990","#timeline-2000","#timeline-2000-after","#timeline-2010","#timeline-2010-after","#timeline-end-before","#timeline-end","#timeline-end-after","#timeline-final"];function a(){u()}function l(){u(),(n=new IScroll("#wrapper",{probeType:3,deceleration:.01,scrollX:!0,scrollY:!1,mouseWheel:!0,mouseWheelSpeed:20,bounce:!1,responsive:!0,click:!0})).on("scrollStart",function(){jQuery("body").hasClass("hide-mouse")||(jQuery("body").addClass("hide-mouse"),y())}),n.on("scroll",function(){p.trigger("scroll"),jQuery(".slide").isInViewport().addClass("in-viewport active"),jQuery("body").hasClass("nav-scrolling")||c(o=jQuery(".slide").isInViewport().data("section"))}),s||t.stellar({verticalScrolling:!1,responsive:!1,scrollProperty:"transform",positionProperty:"transform",hideDistantElements:!1}),t.find(".slide").isInViewport().addClass("in-viewport"),c(o=jQuery(".slide").isInViewport().data("section")),jQuery(".footer-nav-wrap").addClass("in-view")}function c(e){jQuery(".nav-item").each(function(){jQuery(this).data("section")==e?jQuery(this).addClass("active"):jQuery(this).removeClass("active")}),jQuery(".nav-arrow").removeClass("disable"),0==e&&jQuery(".prev-arrow").addClass("disable"),e>=d.length-1&&jQuery(".next-arrow").addClass("disable")}function u(){jQuery("*[data-stellar-ratio]").each(function(){jQuery(this).attr("style","")}),function(){var r=0,t=0;if(p.width()>=v&&p.height()>=g){var e=jQuery("#divider-1900").width()/2;jQuery("#content-1900").css("padding-right",e+"px"),jQuery("#divider-1900").css("right","-"+e+"px");var i=jQuery("#divider-1930").width()/2;jQuery("#content-1930").css("padding-right",20+i+"px"),jQuery("#content-1940").css("padding-left",i+"px"),jQuery("#divider-1930").css("right","-"+(100+i)+"px");var s=jQuery("#divider-1940").width()/2;jQuery("#content-1940").css("padding-right",s+"px"),jQuery("#content-1950").css("padding-left",s+"px"),jQuery("#divider-1940").css("right","-"+(100+s)+"px");var a=jQuery("#divider-1950").width()/2;jQuery("#content-1950").css("padding-right",a+"px"),jQuery("#content-1960").css("padding-left",a+"px"),jQuery("#divider-1950").css("right","-"+(100+a)+"px");var n=jQuery("#divider-1960").width()/2;jQuery("#content-1960").css("padding-right",n+"px"),jQuery("#content-1970").css("padding-left",n+"px"),jQuery("#divider-1960").css("right","-"+(100+n)+"px");var o=jQuery("#divider-1970").width()/2;jQuery("#content-1970").css("padding-right",o+"px"),jQuery("#content-1980").css("padding-left",o+"px"),jQuery("#divider-1970").css("right","-"+(100+o)+"px");var d=jQuery("#divider-1980").width()/2;jQuery("#content-1980").css("padding-right",d+"px"),jQuery("#content-1990").css("padding-left",200+d+"px"),jQuery("#divider-1980").css("right","-"+d+"px");var l=jQuery("#divider-1990").width()/2;jQuery("#content-1990").css("padding-right",l+"px"),jQuery("#content-2000").css("padding-left",l+"px"),jQuery("#divider-1990").css("right","-"+(100+l)+"px");var c=jQuery("#divider-2000").width()/2;jQuery("#content-2000").css("padding-right",c+"px"),jQuery("#content-2000-after").css("padding-left",c+"px"),jQuery("#divider-2000").css("right","-"+(200+c)+"px");var u=jQuery("#divider-2000-after").width()/2;jQuery("#content-2000-after").css("padding-right",u+"px"),jQuery("#content-2010").css("padding-left",u+"px"),jQuery("#divider-2000-after").css("right","-"+(200+u)+"px");var y=jQuery("#divider-2010").width()/2;jQuery("#content-2010").css("padding-right",y+"px"),jQuery("#content-2010-after").css("padding-left",y+"px"),jQuery("#divider-2010").css("right","-"+(200+y)+"px");var h=jQuery("#divider-2010-after").width()/2;jQuery("#content-2010-after").css("padding-right",h+"px"),jQuery("#content-end-before").css("padding-left",h+"px"),jQuery("#divider-2010-after").css("right","-"+(100+h)+"px");var j=jQuery("#divider-end-before").width()/2;jQuery("#content-end-before").css("padding-right",j+"px"),jQuery("#content-end").css("padding-left",j+"px"),jQuery("#divider-end-before").css("right","-"+(200+j)+"px");var Q=jQuery("#divider-end").width()/2;jQuery("#content-end").css("padding-right",Q+"px"),jQuery("#content-end-after").css("padding-left",Q+"px"),jQuery("#divider-end").css("right","-"+Q+"px"),jQuery.each(f,function(e,i){r=jQuery(i).width(),t+=r}),jQuery(".parallax").css("width",t+1+"px")}else jQuery(".parallax").css("width",""),jQuery(".content-padding").css("padding","")}()}function y(){jQuery(".nav-animation").addClass("fadeout active")}jQuery("ul.mobile-menu a").on("click",function(){jQuery(".mobile-menu-wrap").collapse("hide")}),jQuery("ul.footer-nav li.nav-item").bind("click",function(e){if(!jQuery("body").hasClass("nav-scrolling")){jQuery("body").addClass("nav-scrolling"),e.preventDefault(),e.stopPropagation(),jQuery("body").hasClass("hide-mouse")||(jQuery("body").addClass("hide-mouse"),y());var i,r=jQuery(this).data("section"),t=jQuery("#timeline-"+d[r]).position().left+10,s=parseInt(jQuery("#anchor-"+d[r]).css("marginLeft"));if(0==s){var a=jQuery("#anchor-"+d[r]).closest(".content-padding");s=parseInt(a.css("paddingLeft"))}i=s+t,jQuery(".nav-item").removeClass("active"),jQuery(this).addClass("active"),n.scrollTo(-i,0,700,IScroll.utils.ease.quadratic),setTimeout(function(){jQuery("body").removeClass("nav-scrolling"),c(r)},900)}}),jQuery(".nav-arrow").bind("click",function(e){if(!jQuery("body").hasClass("nav-scrolling")){var i,r,t,s;if(jQuery("body").addClass("nav-scrolling"),e.preventDefault(),e.stopPropagation(),jQuery("body").hasClass("hide-mouse")||(jQuery("body").addClass("hide-mouse"),y()),o=jQuery(".slide").isInViewport().data("section"),c(r=jQuery(this).hasClass("prev-arrow")?o-1:o+1),i=jQuery("#timeline-"+d[r]).position().left+10,0==(s=parseInt(jQuery("#anchor-"+d[r]).css("marginLeft")))){var a=jQuery("#anchor-"+d[r]).closest(".content-padding");s=parseInt(a.css("paddingLeft"))}t=s+i,0==r&&(t=0),n.scrollTo(-t,0,700,IScroll.utils.ease.quadratic),setTimeout(function(){jQuery("body").removeClass("nav-scrolling")},900)}}),p.load(function(){p.width()>=v&&p.height()>=g?(jQuery("body").addClass("load-complete"),setTimeout(function(){jQuery(".nav-animation").addClass("active")},1e3),jQuery("body").hasClass("horz-scroll")||(jQuery("body").addClass("horz-scroll"),l())):(jQuery("body").addClass("load-complete"),jQuery("body").hasClass("vert-scroll")||(jQuery("body").addClass("vert-scroll"),a()))});var h,j=(h={},function(e,i,r){h[r=r||"Don't call this twice without a uniqueId"]&&clearTimeout(h[r]),h[r]=setTimeout(e,i)});p.resize(function(){if(!jQuery("body").hasClass("resizing")){jQuery("body").addClass("resizing"),p.width()>=v&&p.height()>=g&&(n.scrollTo(0,0),u(),n.scrollTo(0,0),n.destroy(),s||(t.data("plugin_stellar").destroy(),t.stellar("destroy")),u()),u();var e=(new Date).getTime();j(function(){jQuery("body").hasClass("resizing")&&(jQuery("body").removeClass("resizing"),u(),p.width()>=v&&p.height()>=g?l():a())},500,"resize horizontal"+e)}p.width()>=v&&p.height()>=g?(jQuery("body").hasClass("vert-scroll")&&jQuery("body").removeClass("vert-scroll"),jQuery("body").hasClass("lazy-desktop")||jQuery(".lazy-desktop").Lazy({chainable:!1,threshold:1500,throttle:500,scrollDirection:"horizontal",afterLoad:function(e){e.removeClass("lazy-desktop"),e.addClass("in-view")}}),jQuery("body").hasClass("horz-scroll")||(jQuery("body").addClass("horz-scroll"),i.config("scrollDirection","horizontal"),r.config("scrollDirection","horizontal"),r.config("imageBase","assets/img/"))):(jQuery("body").hasClass("horz-scroll")&&jQuery("body").removeClass("horz-scroll"),jQuery("body").hasClass("vert-scroll")||(jQuery("body").addClass("vert-scroll"),i.config("scrollDirection","vertical"),r.config("scrollDirection","vertical"),r.config("imageBase","assets/img/mobile/")))}),jQuery(document).ready(function(){i=jQuery(".lazy").Lazy({chainable:!1,threshold:1e3,throttle:500,afterLoad:function(e){e.removeClass("lazy"),e.addClass("in-view")}}),r=jQuery(".lazy-nofade").Lazy({chainable:!1,threshold:1500,throttle:500,afterLoad:function(e){e.removeClass("lazy-nofade"),e.addClass("in-view")}}),p.width()>=v&&p.height()>=g?(i.config("scrollDirection","horizontal"),r.config("scrollDirection","horizontal"),r.config("imageBase","assets/img/"),jQuery("body").addClass("lazy-desktop"),jQuery(".lazy-desktop").Lazy({chainable:!1,threshold:1500,throttle:500,scrollDirection:"horizontal",afterLoad:function(e){e.removeClass("lazy-desktop"),e.addClass("in-view")}})):(i.config("scrollDirection","vertical"),r.config("scrollDirection","vertical"),r.config("imageBase","assets/img/mobile/")),jQuery(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-img-mobile",prependTo:".mag-wrap",image:{verticalFit:!0,titleSrc:"title"}})})}();