!function(){"use strict";jQuery.noConflict();var s,a,i,r,n=jQuery(window),t=jQuery("#parallax"),o=600,d=576,l=!!document.documentMode,c=["intro","1900","1930","1940","1950","1960","1970","1980","1990","2000","2010","final"],u=["#timeline-intro","#timeline-1900","#timeline-1930","#timeline-1940","#timeline-1950","#timeline-1960","#timeline-1970","#timeline-1980","#timeline-1990","#timeline-2000","#timeline-2000-after","#timeline-2010","#timeline-2010-after","#timeline-end-before","#timeline-end","#timeline-end-after","#timeline-final"];function y(){Q()}function h(){Q(),(s=new IScroll("#wrapper",{probeType:3,deceleration:.01,scrollX:!0,scrollY:!1,mouseWheel:!0,mouseWheelSpeed:20,bounce:!1,responsive:!0,click:!0})).on("scrollStart",function(){jQuery("body").hasClass("hide-mouse")||(jQuery("body").addClass("hide-mouse"),p())}),s.on("scroll",function(){n.trigger("scroll"),jQuery(".slide").isInViewport().addClass("in-viewport active"),jQuery("body").hasClass("nav-scrolling")||j(a=jQuery(".slide").isInViewport().data("section"))}),l||t.stellar({verticalScrolling:!1,responsive:!1,scrollProperty:"transform",positionProperty:"transform",hideDistantElements:!1}),t.find(".slide").isInViewport().addClass("in-viewport"),j(a=jQuery(".slide").isInViewport().data("section")),jQuery(".footer-nav-wrap").addClass("in-view")}function j(e){jQuery(".nav-item").each(function(){jQuery(this).data("section")==e?jQuery(this).addClass("active"):jQuery(this).removeClass("active")}),jQuery(".nav-arrow").removeClass("disable"),0==e&&jQuery(".prev-arrow").addClass("disable"),c.length-1<=e&&jQuery(".next-arrow").addClass("disable")}function Q(){var r,e,t;jQuery("*[data-stellar-ratio]").each(function(){jQuery(this).attr("style","")}),t=0,n.width()>=d&&n.height()>=o?(e=jQuery("#divider-1900").width()/2,jQuery("#content-1900").css("padding-right",e+"px"),jQuery("#divider-1900").css("right","-"+e+"px"),e=jQuery("#divider-1930").width()/2,jQuery("#content-1930").css("padding-right",20+e+"px"),jQuery("#content-1940").css("padding-left",e+"px"),jQuery("#divider-1930").css("right","-"+(100+e)+"px"),e=jQuery("#divider-1940").width()/2,jQuery("#content-1940").css("padding-right",e+"px"),jQuery("#content-1950").css("padding-left",e+"px"),jQuery("#divider-1940").css("right","-"+(100+e)+"px"),e=jQuery("#divider-1950").width()/2,jQuery("#content-1950").css("padding-right",e+"px"),jQuery("#content-1960").css("padding-left",e+"px"),jQuery("#divider-1950").css("right","-"+(100+e)+"px"),e=jQuery("#divider-1960").width()/2,jQuery("#content-1960").css("padding-right",e+"px"),jQuery("#content-1970").css("padding-left",e+"px"),jQuery("#divider-1960").css("right","-"+(100+e)+"px"),e=jQuery("#divider-1970").width()/2,jQuery("#content-1970").css("padding-right",e+"px"),jQuery("#content-1980").css("padding-left",e+"px"),jQuery("#divider-1970").css("right","-"+(100+e)+"px"),e=jQuery("#divider-1980").width()/2,jQuery("#content-1980").css("padding-right",e+"px"),jQuery("#content-1990").css("padding-left",200+e+"px"),jQuery("#divider-1980").css("right","-"+e+"px"),e=jQuery("#divider-1990").width()/2,jQuery("#content-1990").css("padding-right",e+"px"),jQuery("#content-2000").css("padding-left",e+"px"),jQuery("#divider-1990").css("right","-"+(100+e)+"px"),e=jQuery("#divider-2000").width()/2,jQuery("#content-2000").css("padding-right",e+"px"),jQuery("#content-2000-after").css("padding-left",e+"px"),jQuery("#divider-2000").css("right","-"+(200+e)+"px"),e=jQuery("#divider-2000-after").width()/2,jQuery("#content-2000-after").css("padding-right",e+"px"),jQuery("#content-2010").css("padding-left",e+"px"),jQuery("#divider-2000-after").css("right","-"+(200+e)+"px"),e=jQuery("#divider-2010").width()/2,jQuery("#content-2010").css("padding-right",e+"px"),jQuery("#content-2010-after").css("padding-left",e+"px"),jQuery("#divider-2010").css("right","-"+(200+e)+"px"),e=jQuery("#divider-2010-after").width()/2,jQuery("#content-2010-after").css("padding-right",e+"px"),jQuery("#content-end-before").css("padding-left",e+"px"),jQuery("#divider-2010-after").css("right","-"+(100+e)+"px"),e=jQuery("#divider-end-before").width()/2,jQuery("#content-end-before").css("padding-right",e+"px"),jQuery("#content-end").css("padding-left",e+"px"),jQuery("#divider-end-before").css("right","-"+(200+e)+"px"),e=jQuery("#divider-end").width()/2,jQuery("#content-end").css("padding-right",e+"px"),jQuery("#content-end-after").css("padding-left",e+"px"),jQuery("#divider-end").css("right","-"+e+"px"),jQuery.each(u,function(e,i){r=jQuery(i).width(),t+=r}),jQuery(".parallax").css("width",t+1+"px")):(jQuery(".parallax").css("width",""),jQuery(".content-padding").css("padding",""))}function p(){jQuery(".nav-animation").addClass("fadeout active")}jQuery("ul.mobile-menu a").on("click",function(){jQuery(".mobile-menu-wrap").collapse("hide")}),jQuery("ul.footer-nav li.nav-item").bind("click",function(e){var i,r,t;jQuery("body").hasClass("nav-scrolling")||(jQuery("body").addClass("nav-scrolling"),e.preventDefault(),e.stopPropagation(),jQuery("body").hasClass("hide-mouse")||(jQuery("body").addClass("hide-mouse"),p()),i=jQuery(this).data("section"),e=jQuery("#timeline-"+c[i]).position().left+10,0==(t=parseInt(jQuery("#anchor-"+c[i]).css("marginLeft")))&&(r=jQuery("#anchor-"+c[i]).closest(".content-padding"),t=parseInt(r.css("paddingLeft"))),r=t+e,jQuery(".nav-item").removeClass("active"),jQuery(this).addClass("active"),s.scrollTo(-r,0,700,IScroll.utils.ease.quadratic),setTimeout(function(){jQuery("body").removeClass("nav-scrolling"),j(i)},900))}),jQuery(".nav-arrow").bind("click",function(e){var i,r,t;jQuery("body").hasClass("nav-scrolling")||(jQuery("body").addClass("nav-scrolling"),e.preventDefault(),e.stopPropagation(),jQuery("body").hasClass("hide-mouse")||(jQuery("body").addClass("hide-mouse"),p()),a=jQuery(".slide").isInViewport().data("section"),j(e=jQuery(this).hasClass("prev-arrow")?a-1:a+1),i=jQuery("#timeline-"+c[e]).position().left+10,0==(t=parseInt(jQuery("#anchor-"+c[e]).css("marginLeft")))&&(r=jQuery("#anchor-"+c[e]).closest(".content-padding"),t=parseInt(r.css("paddingLeft"))),r=t+i,s.scrollTo(-(r=0==e?0:r),0,700,IScroll.utils.ease.quadratic),setTimeout(function(){jQuery("body").removeClass("nav-scrolling")},900))}),n.load(function(){n.width()>=d&&n.height()>=o?(jQuery("body").addClass("load-complete"),setTimeout(function(){jQuery(".nav-animation").addClass("active")},1e3),jQuery("body").hasClass("horz-scroll")||(jQuery("body").addClass("horz-scroll"),h())):(jQuery("body").addClass("load-complete"),jQuery("body").hasClass("vert-scroll")||(jQuery("body").addClass("vert-scroll"),y()))});g={};var g,v=function(e,i,r){g[r=r||"Don't call this twice without a uniqueId"]&&clearTimeout(g[r]),g[r]=setTimeout(e,i)};n.resize(function(){var e;jQuery("body").hasClass("resizing")||(jQuery("body").addClass("resizing"),n.width()>=d&&n.height()>=o&&(s.scrollTo(0,0),Q(),s.scrollTo(0,0),s.destroy(),l||(t.data("plugin_stellar").destroy(),t.stellar("destroy")),Q()),Q(),e=(new Date).getTime(),v(function(){jQuery("body").hasClass("resizing")&&(jQuery("body").removeClass("resizing"),Q(),(n.width()>=d&&n.height()>=o?h:y)())},500,"resize horizontal"+e)),n.width()>=d&&n.height()>=o?(jQuery("body").hasClass("vert-scroll")&&jQuery("body").removeClass("vert-scroll"),jQuery("body").hasClass("lazy-desktop")||jQuery(".lazy-desktop").Lazy({chainable:!1,threshold:1500,throttle:500,scrollDirection:"horizontal",afterLoad:function(e){e.removeClass("lazy-desktop"),e.addClass("in-view")}}),jQuery("body").hasClass("horz-scroll")||(jQuery("body").addClass("horz-scroll"),i.config("scrollDirection","horizontal"),r.config("scrollDirection","horizontal"),r.config("imageBase","assets/img/"))):(jQuery("body").hasClass("horz-scroll")&&jQuery("body").removeClass("horz-scroll"),jQuery("body").hasClass("vert-scroll")||(jQuery("body").addClass("vert-scroll"),i.config("scrollDirection","vertical"),r.config("scrollDirection","vertical"),r.config("imageBase","assets/img/mobile/")))}),jQuery(document).ready(function(){i=jQuery(".lazy").Lazy({chainable:!1,threshold:1e3,throttle:500,afterLoad:function(e){e.removeClass("lazy"),e.addClass("in-view")}}),r=jQuery(".lazy-nofade").Lazy({chainable:!1,threshold:1500,throttle:500,afterLoad:function(e){e.removeClass("lazy-nofade"),e.addClass("in-view")}}),n.width()>=d&&n.height()>=o?(i.config("scrollDirection","horizontal"),r.config("scrollDirection","horizontal"),r.config("imageBase","assets/img/"),jQuery("body").addClass("lazy-desktop"),jQuery(".lazy-desktop").Lazy({chainable:!1,threshold:1500,throttle:500,scrollDirection:"horizontal",afterLoad:function(e){e.removeClass("lazy-desktop"),e.addClass("in-view")}})):(i.config("scrollDirection","vertical"),r.config("scrollDirection","vertical"),r.config("imageBase","assets/img/mobile/")),jQuery(".image-popup").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-img-mobile",prependTo:".mag-wrap",image:{verticalFit:!0,titleSrc:"title"}})})}();